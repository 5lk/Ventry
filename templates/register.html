{% extends "base.html" %}
{% block content %}
<section class="max-w-md mx-auto panel p-6 rounded-lg">
  <h2 class="text-2xl font-bold mb-5">Create your account</h2>
  <form method="post" class="grid grid-cols-1 gap-6">
    <!-- First Name -->
    <div>
      <label for="first_name" class="block text-sub mb-2">First Name</label>
      <input id="first_name" name="first_name" type="text" required
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Last Name -->
    <div>
      <label for="last_name" class="block text-sub mb-2">Last Name</label>
      <input id="last_name" name="last_name" type="text" required
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Home Address -->
    <div>
      <label for="home_address" class="block text-sub mb-2">Home Address</label>
      <input id="home_address" name="home_address" type="text" required
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Email -->
    <div>
      <label for="email" class="block text-sub mb-2">Email</label>
      <input id="email" name="email" type="email" required
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Password -->
    <div>
      <label for="password" class="block text-sub mb-2">Password</label>
      <input id="password" name="password" type="password" required
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Role -->
    <div>
      <label for="roleSelect" class="block text-sub mb-2">I am a</label>
      <select id="roleSelect" name="role" required
              class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400">
        <option value="company">Company</option>
        <option value="developer">Developer</option>
      </select>
    </div>
    <!-- LinkedIn URL (only shown for developers) -->
    <div id="linkedinField" style="display:none;">
      <label for="linkedin_url" class="block text-sub mb-2">LinkedIn Profile URL (developers)</label>
      <input id="linkedin_url" name="linkedin_url" type="url" placeholder="https://www.linkedin.com/in/..."
             class="w-full px-4 py-2 rounded bg-[rgba(17,24,38,0.6)] border border-[rgba(88,214,255,0.15)] text-text focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
    <!-- Submit -->
    <div>
      <button type="submit" class="btn-acc px-6 py-3 w-full rounded font-semibold">Register</button>
    </div>
  </form>
</section>

<script>
  const roleSelect = document.getElementById('roleSelect');
  const linkedinField = document.getElementById('linkedinField');

  function toggleLinkedIn() {
    linkedinField.style.display = roleSelect.value === 'developer' ? 'block' : 'none';
  }
  roleSelect.addEventListener('change', toggleLinkedIn);
  toggleLinkedIn();
</script>
{% endblock %}
